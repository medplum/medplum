# Default values for medplum.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1
namespace: medplum

global:
  domain: api.zencore.medplum.dev
  cloudProvider: gcp

image:
  # repository: medplum/medplum-server
  repository: us-west1-docker.pkg.dev/medplum-zencore/medplum-repo/medplum-server
  pullPolicy: IfNotPresent
  tag: test4

gcp:
  projectId: medplum-zencore
  secretId: config-diego-test
  serviceAccount: 
    annotations:
      iam.gke.io/gcp-service-account: medplum-server@medplum-zencore.iam.gserviceaccount.com

# aws:
#   serviceAccount: 
#     annotations:
      # eks.amazonaws.com/role-arn: arn:aws:iam::123456789012:role/medplum-server-role

service:
  type: ClusterIP
  port: 8103

livenessProbe:
  httpGet:
    path: /healthcheck
    port: 8103

readinessProbe:
  httpGet:
    path: /healthcheck
    port: 8103


resources:
  limits:
    memory: "512Mi"
  requests:
    memory: "256Mi"

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 100
  targetCPUUtilizationPercentage: 80
