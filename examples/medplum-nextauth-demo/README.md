# Medplum NextAuth Demo

This sample application demonstrates how to use [NextAuth]() to with Medplum's authentication framework

![NextAuth Preview](./nextauth-preview.mp4)

## Running the Demo

1. Install the dependencies

```bash
npm install
```

2. [Create a Medplum ClientApplication](https://www.medplum.com/docs/auth/methods/oauth-auth-code#create-a-client-application) and set the `redirectUri` to `http://localhost:3000/api/auth/callback/medplum`.

3. Generate a NextAuth secret:

```bash
# openssl rand -base64 32
```

4. Create an .env file

```bash
NEXTAUTH_SECRET=<secret generated by openssl>
MEDPLUM_CLIENT_ID=<Medplum ClientApplication id>
MEDPLUM_SECRET_ID==<Medplum ClientApplication secret>
```

5. Run

```bash
npm run dev
```
