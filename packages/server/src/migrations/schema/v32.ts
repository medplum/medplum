/*
 * Generated by @medplum/generator
 * Do not edit manually.
 */

import { PoolClient } from 'pg';

export async function run(client: PoolClient): Promise<void> {
  await client.query(`ALTER TABLE "User" ADD COLUMN "externalId" TEXT`);
  await client.query(`UPDATE "User" SET "externalId"="email"`);
  await client.query('CREATE UNIQUE INDEX ON "User" ("project", "externalId")');
}
