/*
 * Generated by @medplum/generator
 * Do not edit manually.
 */

import { PoolClient } from 'pg';

export async function run(client: PoolClient): Promise<void> {
  await client.query(`CREATE TABLE IF NOT EXISTS "Account_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Account_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Account_Token" ("code")');
  await client.query('CREATE INDEX ON "Account_Token" ("system")');
  await client.query('CREATE INDEX ON "Account_Token" ("value")');

  await client.query('ALTER TABLE "ActivityDefinition" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "ActivityDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ActivityDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ActivityDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "ActivityDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "ActivityDefinition_Token" ("value")');

  await client.query('ALTER TABLE "AdverseEvent" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "AdverseEvent_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "AdverseEvent_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "AdverseEvent_Token" ("code")');
  await client.query('CREATE INDEX ON "AdverseEvent_Token" ("system")');
  await client.query('CREATE INDEX ON "AdverseEvent_Token" ("value")');

  await client.query('ALTER TABLE "AllergyIntolerance" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(
    'ALTER TABLE "AllergyIntolerance" ALTER COLUMN "lastDate" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(
    'ALTER TABLE "AllergyIntolerance" ALTER COLUMN "onset" TYPE TIMESTAMP WITH TIME ZONE[] USING \'{}\'::TIMESTAMP WITH TIME ZONE[]'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "AllergyIntolerance_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "AllergyIntolerance_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "AllergyIntolerance_Token" ("code")');
  await client.query('CREATE INDEX ON "AllergyIntolerance_Token" ("system")');
  await client.query('CREATE INDEX ON "AllergyIntolerance_Token" ("value")');

  await client.query('ALTER TABLE "Appointment" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Appointment_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Appointment_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Appointment_Token" ("code")');
  await client.query('CREATE INDEX ON "Appointment_Token" ("system")');
  await client.query('CREATE INDEX ON "Appointment_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "AppointmentResponse_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "AppointmentResponse_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "AppointmentResponse_Token" ("code")');
  await client.query('CREATE INDEX ON "AppointmentResponse_Token" ("system")');
  await client.query('CREATE INDEX ON "AppointmentResponse_Token" ("value")');

  await client.query('ALTER TABLE "AuditEvent" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "AuditEvent_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "AuditEvent_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "AuditEvent_Token" ("code")');
  await client.query('CREATE INDEX ON "AuditEvent_Token" ("system")');
  await client.query('CREATE INDEX ON "AuditEvent_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Basic_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Basic_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Basic_Token" ("code")');
  await client.query('CREATE INDEX ON "Basic_Token" ("system")');
  await client.query('CREATE INDEX ON "Basic_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Binary_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Binary_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Binary_Token" ("code")');
  await client.query('CREATE INDEX ON "Binary_Token" ("system")');
  await client.query('CREATE INDEX ON "Binary_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "BiologicallyDerivedProduct_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "BiologicallyDerivedProduct_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "BiologicallyDerivedProduct_Token" ("code")');
  await client.query('CREATE INDEX ON "BiologicallyDerivedProduct_Token" ("system")');
  await client.query('CREATE INDEX ON "BiologicallyDerivedProduct_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "BodyStructure_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "BodyStructure_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "BodyStructure_Token" ("code")');
  await client.query('CREATE INDEX ON "BodyStructure_Token" ("system")');
  await client.query('CREATE INDEX ON "BodyStructure_Token" ("value")');

  await client.query('ALTER TABLE "Bundle" ALTER COLUMN "timestamp" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Bundle_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Bundle_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Bundle_Token" ("code")');
  await client.query('CREATE INDEX ON "Bundle_Token" ("system")');
  await client.query('CREATE INDEX ON "Bundle_Token" ("value")');

  await client.query('ALTER TABLE "CapabilityStatement" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "CapabilityStatement_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "CapabilityStatement_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "CapabilityStatement_Token" ("code")');
  await client.query('CREATE INDEX ON "CapabilityStatement_Token" ("system")');
  await client.query('CREATE INDEX ON "CapabilityStatement_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "CarePlan_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "CarePlan_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "CarePlan_Token" ("code")');
  await client.query('CREATE INDEX ON "CarePlan_Token" ("system")');
  await client.query('CREATE INDEX ON "CarePlan_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "CareTeam_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "CareTeam_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "CareTeam_Token" ("code")');
  await client.query('CREATE INDEX ON "CareTeam_Token" ("system")');
  await client.query('CREATE INDEX ON "CareTeam_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "CatalogEntry_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "CatalogEntry_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "CatalogEntry_Token" ("code")');
  await client.query('CREATE INDEX ON "CatalogEntry_Token" ("system")');
  await client.query('CREATE INDEX ON "CatalogEntry_Token" ("value")');

  await client.query('ALTER TABLE "ChargeItem" ALTER COLUMN "enteredDate" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query('ALTER TABLE "ChargeItem" ALTER COLUMN "occurrence" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "ChargeItem_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ChargeItem_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ChargeItem_Token" ("code")');
  await client.query('CREATE INDEX ON "ChargeItem_Token" ("system")');
  await client.query('CREATE INDEX ON "ChargeItem_Token" ("value")');

  await client.query('ALTER TABLE "ChargeItemDefinition" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "ChargeItemDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ChargeItemDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ChargeItemDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "ChargeItemDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "ChargeItemDefinition_Token" ("value")');

  await client.query('ALTER TABLE "Claim" ALTER COLUMN "created" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Claim_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Claim_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Claim_Token" ("code")');
  await client.query('CREATE INDEX ON "Claim_Token" ("system")');
  await client.query('CREATE INDEX ON "Claim_Token" ("value")');

  await client.query('ALTER TABLE "ClaimResponse" ALTER COLUMN "created" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "ClaimResponse_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ClaimResponse_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ClaimResponse_Token" ("code")');
  await client.query('CREATE INDEX ON "ClaimResponse_Token" ("system")');
  await client.query('CREATE INDEX ON "ClaimResponse_Token" ("value")');

  await client.query('ALTER TABLE "ClinicalImpression" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "ClinicalImpression_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ClinicalImpression_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ClinicalImpression_Token" ("code")');
  await client.query('CREATE INDEX ON "ClinicalImpression_Token" ("system")');
  await client.query('CREATE INDEX ON "ClinicalImpression_Token" ("value")');

  await client.query('ALTER TABLE "CodeSystem" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "CodeSystem_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "CodeSystem_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "CodeSystem_Token" ("code")');
  await client.query('CREATE INDEX ON "CodeSystem_Token" ("system")');
  await client.query('CREATE INDEX ON "CodeSystem_Token" ("value")');

  await client.query('ALTER TABLE "Communication" ALTER COLUMN "received" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query('ALTER TABLE "Communication" ALTER COLUMN "sent" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Communication_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Communication_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Communication_Token" ("code")');
  await client.query('CREATE INDEX ON "Communication_Token" ("system")');
  await client.query('CREATE INDEX ON "Communication_Token" ("value")');

  await client.query(
    'ALTER TABLE "CommunicationRequest" ALTER COLUMN "authored" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(
    'ALTER TABLE "CommunicationRequest" ALTER COLUMN "occurrence" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "CommunicationRequest_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "CommunicationRequest_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "CommunicationRequest_Token" ("code")');
  await client.query('CREATE INDEX ON "CommunicationRequest_Token" ("system")');
  await client.query('CREATE INDEX ON "CommunicationRequest_Token" ("value")');

  await client.query(
    'ALTER TABLE "CompartmentDefinition" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "CompartmentDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "CompartmentDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "CompartmentDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "CompartmentDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "CompartmentDefinition_Token" ("value")');

  await client.query('ALTER TABLE "Composition" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Composition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Composition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Composition_Token" ("code")');
  await client.query('CREATE INDEX ON "Composition_Token" ("system")');
  await client.query('CREATE INDEX ON "Composition_Token" ("value")');

  await client.query('ALTER TABLE "ConceptMap" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "ConceptMap_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ConceptMap_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ConceptMap_Token" ("code")');
  await client.query('CREATE INDEX ON "ConceptMap_Token" ("system")');
  await client.query('CREATE INDEX ON "ConceptMap_Token" ("value")');

  await client.query('ALTER TABLE "Condition" ALTER COLUMN "abatementDate" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query('ALTER TABLE "Condition" ALTER COLUMN "onsetDate" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query('ALTER TABLE "Condition" ALTER COLUMN "recordedDate" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Condition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Condition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Condition_Token" ("code")');
  await client.query('CREATE INDEX ON "Condition_Token" ("system")');
  await client.query('CREATE INDEX ON "Condition_Token" ("value")');

  await client.query('ALTER TABLE "Consent" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Consent_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Consent_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Consent_Token" ("code")');
  await client.query('CREATE INDEX ON "Consent_Token" ("system")');
  await client.query('CREATE INDEX ON "Consent_Token" ("value")');

  await client.query('ALTER TABLE "Contract" ALTER COLUMN "issued" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Contract_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Contract_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Contract_Token" ("code")');
  await client.query('CREATE INDEX ON "Contract_Token" ("system")');
  await client.query('CREATE INDEX ON "Contract_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Coverage_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Coverage_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Coverage_Token" ("code")');
  await client.query('CREATE INDEX ON "Coverage_Token" ("system")');
  await client.query('CREATE INDEX ON "Coverage_Token" ("value")');

  await client.query(
    'ALTER TABLE "CoverageEligibilityRequest" ALTER COLUMN "created" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "CoverageEligibilityRequest_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "CoverageEligibilityRequest_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "CoverageEligibilityRequest_Token" ("code")');
  await client.query('CREATE INDEX ON "CoverageEligibilityRequest_Token" ("system")');
  await client.query('CREATE INDEX ON "CoverageEligibilityRequest_Token" ("value")');

  await client.query(
    'ALTER TABLE "CoverageEligibilityResponse" ALTER COLUMN "created" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "CoverageEligibilityResponse_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "CoverageEligibilityResponse_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "CoverageEligibilityResponse_Token" ("code")');
  await client.query('CREATE INDEX ON "CoverageEligibilityResponse_Token" ("system")');
  await client.query('CREATE INDEX ON "CoverageEligibilityResponse_Token" ("value")');

  await client.query('ALTER TABLE "DetectedIssue" ALTER COLUMN "identified" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "DetectedIssue_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "DetectedIssue_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "DetectedIssue_Token" ("code")');
  await client.query('CREATE INDEX ON "DetectedIssue_Token" ("system")');
  await client.query('CREATE INDEX ON "DetectedIssue_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Device_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Device_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Device_Token" ("code")');
  await client.query('CREATE INDEX ON "Device_Token" ("system")');
  await client.query('CREATE INDEX ON "Device_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "DeviceDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "DeviceDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "DeviceDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "DeviceDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "DeviceDefinition_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "DeviceMetric_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "DeviceMetric_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "DeviceMetric_Token" ("code")');
  await client.query('CREATE INDEX ON "DeviceMetric_Token" ("system")');
  await client.query('CREATE INDEX ON "DeviceMetric_Token" ("value")');

  await client.query('ALTER TABLE "DeviceRequest" ALTER COLUMN "authoredOn" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query('ALTER TABLE "DeviceRequest" ALTER COLUMN "eventDate" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "DeviceRequest_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "DeviceRequest_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "DeviceRequest_Token" ("code")');
  await client.query('CREATE INDEX ON "DeviceRequest_Token" ("system")');
  await client.query('CREATE INDEX ON "DeviceRequest_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "DeviceUseStatement_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "DeviceUseStatement_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "DeviceUseStatement_Token" ("code")');
  await client.query('CREATE INDEX ON "DeviceUseStatement_Token" ("system")');
  await client.query('CREATE INDEX ON "DeviceUseStatement_Token" ("value")');

  await client.query('ALTER TABLE "DiagnosticReport" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query('ALTER TABLE "DiagnosticReport" ALTER COLUMN "issued" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "DiagnosticReport_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "DiagnosticReport_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "DiagnosticReport_Token" ("code")');
  await client.query('CREATE INDEX ON "DiagnosticReport_Token" ("system")');
  await client.query('CREATE INDEX ON "DiagnosticReport_Token" ("value")');

  await client.query('ALTER TABLE "DocumentManifest" ALTER COLUMN "created" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "DocumentManifest_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "DocumentManifest_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "DocumentManifest_Token" ("code")');
  await client.query('CREATE INDEX ON "DocumentManifest_Token" ("system")');
  await client.query('CREATE INDEX ON "DocumentManifest_Token" ("value")');

  await client.query('ALTER TABLE "DocumentReference" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "DocumentReference_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "DocumentReference_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "DocumentReference_Token" ("code")');
  await client.query('CREATE INDEX ON "DocumentReference_Token" ("system")');
  await client.query('CREATE INDEX ON "DocumentReference_Token" ("value")');

  await client.query(
    'ALTER TABLE "EffectEvidenceSynthesis" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "EffectEvidenceSynthesis_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "EffectEvidenceSynthesis_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "EffectEvidenceSynthesis_Token" ("code")');
  await client.query('CREATE INDEX ON "EffectEvidenceSynthesis_Token" ("system")');
  await client.query('CREATE INDEX ON "EffectEvidenceSynthesis_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Encounter_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Encounter_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Encounter_Token" ("code")');
  await client.query('CREATE INDEX ON "Encounter_Token" ("system")');
  await client.query('CREATE INDEX ON "Encounter_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Endpoint_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Endpoint_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Endpoint_Token" ("code")');
  await client.query('CREATE INDEX ON "Endpoint_Token" ("system")');
  await client.query('CREATE INDEX ON "Endpoint_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "EnrollmentRequest_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "EnrollmentRequest_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "EnrollmentRequest_Token" ("code")');
  await client.query('CREATE INDEX ON "EnrollmentRequest_Token" ("system")');
  await client.query('CREATE INDEX ON "EnrollmentRequest_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "EnrollmentResponse_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "EnrollmentResponse_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "EnrollmentResponse_Token" ("code")');
  await client.query('CREATE INDEX ON "EnrollmentResponse_Token" ("system")');
  await client.query('CREATE INDEX ON "EnrollmentResponse_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "EpisodeOfCare_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "EpisodeOfCare_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "EpisodeOfCare_Token" ("code")');
  await client.query('CREATE INDEX ON "EpisodeOfCare_Token" ("system")');
  await client.query('CREATE INDEX ON "EpisodeOfCare_Token" ("value")');

  await client.query('ALTER TABLE "EventDefinition" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "EventDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "EventDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "EventDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "EventDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "EventDefinition_Token" ("value")');

  await client.query('ALTER TABLE "Evidence" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Evidence_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Evidence_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Evidence_Token" ("code")');
  await client.query('CREATE INDEX ON "Evidence_Token" ("system")');
  await client.query('CREATE INDEX ON "Evidence_Token" ("value")');

  await client.query('ALTER TABLE "EvidenceVariable" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "EvidenceVariable_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "EvidenceVariable_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "EvidenceVariable_Token" ("code")');
  await client.query('CREATE INDEX ON "EvidenceVariable_Token" ("system")');
  await client.query('CREATE INDEX ON "EvidenceVariable_Token" ("value")');

  await client.query('ALTER TABLE "ExampleScenario" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "ExampleScenario_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ExampleScenario_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ExampleScenario_Token" ("code")');
  await client.query('CREATE INDEX ON "ExampleScenario_Token" ("system")');
  await client.query('CREATE INDEX ON "ExampleScenario_Token" ("value")');

  await client.query(
    'ALTER TABLE "ExplanationOfBenefit" ALTER COLUMN "created" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "ExplanationOfBenefit_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ExplanationOfBenefit_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ExplanationOfBenefit_Token" ("code")');
  await client.query('CREATE INDEX ON "ExplanationOfBenefit_Token" ("system")');
  await client.query('CREATE INDEX ON "ExplanationOfBenefit_Token" ("value")');

  await client.query('ALTER TABLE "FamilyMemberHistory" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "FamilyMemberHistory_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "FamilyMemberHistory_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "FamilyMemberHistory_Token" ("code")');
  await client.query('CREATE INDEX ON "FamilyMemberHistory_Token" ("system")');
  await client.query('CREATE INDEX ON "FamilyMemberHistory_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Flag_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Flag_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Flag_Token" ("code")');
  await client.query('CREATE INDEX ON "Flag_Token" ("system")');
  await client.query('CREATE INDEX ON "Flag_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Goal_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Goal_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Goal_Token" ("code")');
  await client.query('CREATE INDEX ON "Goal_Token" ("system")');
  await client.query('CREATE INDEX ON "Goal_Token" ("value")');

  await client.query('ALTER TABLE "GraphDefinition" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "GraphDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "GraphDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "GraphDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "GraphDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "GraphDefinition_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Group_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Group_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Group_Token" ("code")');
  await client.query('CREATE INDEX ON "Group_Token" ("system")');
  await client.query('CREATE INDEX ON "Group_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "GuidanceResponse_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "GuidanceResponse_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "GuidanceResponse_Token" ("code")');
  await client.query('CREATE INDEX ON "GuidanceResponse_Token" ("system")');
  await client.query('CREATE INDEX ON "GuidanceResponse_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "HealthcareService_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "HealthcareService_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "HealthcareService_Token" ("code")');
  await client.query('CREATE INDEX ON "HealthcareService_Token" ("system")');
  await client.query('CREATE INDEX ON "HealthcareService_Token" ("value")');

  await client.query('ALTER TABLE "ImagingStudy" ALTER COLUMN "started" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "ImagingStudy_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ImagingStudy_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ImagingStudy_Token" ("code")');
  await client.query('CREATE INDEX ON "ImagingStudy_Token" ("system")');
  await client.query('CREATE INDEX ON "ImagingStudy_Token" ("value")');

  await client.query('ALTER TABLE "Immunization" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(
    'ALTER TABLE "Immunization" ALTER COLUMN "reactionDate" TYPE TIMESTAMP WITH TIME ZONE[] USING \'{}\'::TIMESTAMP WITH TIME ZONE[]'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "Immunization_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Immunization_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Immunization_Token" ("code")');
  await client.query('CREATE INDEX ON "Immunization_Token" ("system")');
  await client.query('CREATE INDEX ON "Immunization_Token" ("value")');

  await client.query(
    'ALTER TABLE "ImmunizationEvaluation" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "ImmunizationEvaluation_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ImmunizationEvaluation_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ImmunizationEvaluation_Token" ("code")');
  await client.query('CREATE INDEX ON "ImmunizationEvaluation_Token" ("system")');
  await client.query('CREATE INDEX ON "ImmunizationEvaluation_Token" ("value")');

  await client.query(
    'ALTER TABLE "ImmunizationRecommendation" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "ImmunizationRecommendation_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ImmunizationRecommendation_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ImmunizationRecommendation_Token" ("code")');
  await client.query('CREATE INDEX ON "ImmunizationRecommendation_Token" ("system")');
  await client.query('CREATE INDEX ON "ImmunizationRecommendation_Token" ("value")');

  await client.query('ALTER TABLE "ImplementationGuide" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "ImplementationGuide_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ImplementationGuide_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ImplementationGuide_Token" ("code")');
  await client.query('CREATE INDEX ON "ImplementationGuide_Token" ("system")');
  await client.query('CREATE INDEX ON "ImplementationGuide_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "InsurancePlan_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "InsurancePlan_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "InsurancePlan_Token" ("code")');
  await client.query('CREATE INDEX ON "InsurancePlan_Token" ("system")');
  await client.query('CREATE INDEX ON "InsurancePlan_Token" ("value")');

  await client.query('ALTER TABLE "Invoice" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Invoice_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Invoice_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Invoice_Token" ("code")');
  await client.query('CREATE INDEX ON "Invoice_Token" ("system")');
  await client.query('CREATE INDEX ON "Invoice_Token" ("value")');

  await client.query('ALTER TABLE "Library" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Library_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Library_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Library_Token" ("code")');
  await client.query('CREATE INDEX ON "Library_Token" ("system")');
  await client.query('CREATE INDEX ON "Library_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Linkage_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Linkage_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Linkage_Token" ("code")');
  await client.query('CREATE INDEX ON "Linkage_Token" ("system")');
  await client.query('CREATE INDEX ON "Linkage_Token" ("value")');

  await client.query('ALTER TABLE "List" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "List_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "List_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "List_Token" ("code")');
  await client.query('CREATE INDEX ON "List_Token" ("system")');
  await client.query('CREATE INDEX ON "List_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Location_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Location_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Location_Token" ("code")');
  await client.query('CREATE INDEX ON "Location_Token" ("system")');
  await client.query('CREATE INDEX ON "Location_Token" ("value")');

  await client.query('ALTER TABLE "Measure" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Measure_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Measure_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Measure_Token" ("code")');
  await client.query('CREATE INDEX ON "Measure_Token" ("system")');
  await client.query('CREATE INDEX ON "Measure_Token" ("value")');

  await client.query('ALTER TABLE "MeasureReport" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "MeasureReport_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MeasureReport_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MeasureReport_Token" ("code")');
  await client.query('CREATE INDEX ON "MeasureReport_Token" ("system")');
  await client.query('CREATE INDEX ON "MeasureReport_Token" ("value")');

  await client.query('ALTER TABLE "Media" ALTER COLUMN "created" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Media_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Media_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Media_Token" ("code")');
  await client.query('CREATE INDEX ON "Media_Token" ("system")');
  await client.query('CREATE INDEX ON "Media_Token" ("value")');

  await client.query('ALTER TABLE "Medication" ALTER COLUMN "expirationDate" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Medication_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Medication_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Medication_Token" ("code")');
  await client.query('CREATE INDEX ON "Medication_Token" ("system")');
  await client.query('CREATE INDEX ON "Medication_Token" ("value")');

  await client.query(
    'ALTER TABLE "MedicationAdministration" ALTER COLUMN "effectiveTime" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "MedicationAdministration_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicationAdministration_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicationAdministration_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicationAdministration_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicationAdministration_Token" ("value")');

  await client.query(
    'ALTER TABLE "MedicationDispense" ALTER COLUMN "whenhandedover" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(
    'ALTER TABLE "MedicationDispense" ALTER COLUMN "whenprepared" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "MedicationDispense_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicationDispense_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicationDispense_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicationDispense_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicationDispense_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MedicationKnowledge_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicationKnowledge_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicationKnowledge_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicationKnowledge_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicationKnowledge_Token" ("value")');

  await client.query(
    'ALTER TABLE "MedicationRequest" ALTER COLUMN "authoredon" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(
    'ALTER TABLE "MedicationRequest" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE[] USING \'{}\'::TIMESTAMP WITH TIME ZONE[]'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "MedicationRequest_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicationRequest_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicationRequest_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicationRequest_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicationRequest_Token" ("value")');

  await client.query(
    'ALTER TABLE "MedicationStatement" ALTER COLUMN "effective" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "MedicationStatement_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicationStatement_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicationStatement_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicationStatement_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicationStatement_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MedicinalProduct_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicinalProduct_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicinalProduct_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicinalProduct_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicinalProduct_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MedicinalProductAuthorization_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicinalProductAuthorization_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicinalProductAuthorization_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicinalProductAuthorization_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicinalProductAuthorization_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MedicinalProductContraindication_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicinalProductContraindication_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicinalProductContraindication_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicinalProductContraindication_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicinalProductContraindication_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MedicinalProductIndication_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicinalProductIndication_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicinalProductIndication_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicinalProductIndication_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicinalProductIndication_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MedicinalProductIngredient_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicinalProductIngredient_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicinalProductIngredient_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicinalProductIngredient_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicinalProductIngredient_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MedicinalProductInteraction_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicinalProductInteraction_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicinalProductInteraction_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicinalProductInteraction_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicinalProductInteraction_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MedicinalProductManufactured_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicinalProductManufactured_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicinalProductManufactured_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicinalProductManufactured_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicinalProductManufactured_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MedicinalProductPackaged_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicinalProductPackaged_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicinalProductPackaged_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicinalProductPackaged_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicinalProductPackaged_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MedicinalProductPharmaceutical_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicinalProductPharmaceutical_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicinalProductPharmaceutical_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicinalProductPharmaceutical_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicinalProductPharmaceutical_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MedicinalProductUndesirableEffect_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MedicinalProductUndesirableEffect_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MedicinalProductUndesirableEffect_Token" ("code")');
  await client.query('CREATE INDEX ON "MedicinalProductUndesirableEffect_Token" ("system")');
  await client.query('CREATE INDEX ON "MedicinalProductUndesirableEffect_Token" ("value")');

  await client.query('ALTER TABLE "MessageDefinition" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "MessageDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MessageDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MessageDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "MessageDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "MessageDefinition_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MessageHeader_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MessageHeader_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MessageHeader_Token" ("code")');
  await client.query('CREATE INDEX ON "MessageHeader_Token" ("system")');
  await client.query('CREATE INDEX ON "MessageHeader_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "MolecularSequence_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "MolecularSequence_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "MolecularSequence_Token" ("code")');
  await client.query('CREATE INDEX ON "MolecularSequence_Token" ("system")');
  await client.query('CREATE INDEX ON "MolecularSequence_Token" ("value")');

  await client.query('ALTER TABLE "NamingSystem" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "NamingSystem_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "NamingSystem_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "NamingSystem_Token" ("code")');
  await client.query('CREATE INDEX ON "NamingSystem_Token" ("system")');
  await client.query('CREATE INDEX ON "NamingSystem_Token" ("value")');

  await client.query('ALTER TABLE "NutritionOrder" ALTER COLUMN "datetime" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "NutritionOrder_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "NutritionOrder_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "NutritionOrder_Token" ("code")');
  await client.query('CREATE INDEX ON "NutritionOrder_Token" ("system")');
  await client.query('CREATE INDEX ON "NutritionOrder_Token" ("value")');

  await client.query('ALTER TABLE "Observation" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Observation_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Observation_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Observation_Token" ("code")');
  await client.query('CREATE INDEX ON "Observation_Token" ("system")');
  await client.query('CREATE INDEX ON "Observation_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "ObservationDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ObservationDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ObservationDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "ObservationDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "ObservationDefinition_Token" ("value")');

  await client.query('ALTER TABLE "OperationDefinition" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "OperationDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "OperationDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "OperationDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "OperationDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "OperationDefinition_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "OperationOutcome_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "OperationOutcome_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "OperationOutcome_Token" ("code")');
  await client.query('CREATE INDEX ON "OperationOutcome_Token" ("system")');
  await client.query('CREATE INDEX ON "OperationOutcome_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Organization_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Organization_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Organization_Token" ("code")');
  await client.query('CREATE INDEX ON "Organization_Token" ("system")');
  await client.query('CREATE INDEX ON "Organization_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "OrganizationAffiliation_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "OrganizationAffiliation_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "OrganizationAffiliation_Token" ("code")');
  await client.query('CREATE INDEX ON "OrganizationAffiliation_Token" ("system")');
  await client.query('CREATE INDEX ON "OrganizationAffiliation_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Parameters_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Parameters_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Parameters_Token" ("code")');
  await client.query('CREATE INDEX ON "Parameters_Token" ("system")');
  await client.query('CREATE INDEX ON "Parameters_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Patient_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Patient_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Patient_Token" ("code")');
  await client.query('CREATE INDEX ON "Patient_Token" ("system")');
  await client.query('CREATE INDEX ON "Patient_Token" ("value")');

  await client.query('ALTER TABLE "PaymentNotice" ALTER COLUMN "created" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "PaymentNotice_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "PaymentNotice_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "PaymentNotice_Token" ("code")');
  await client.query('CREATE INDEX ON "PaymentNotice_Token" ("system")');
  await client.query('CREATE INDEX ON "PaymentNotice_Token" ("value")');

  await client.query(
    'ALTER TABLE "PaymentReconciliation" ALTER COLUMN "created" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "PaymentReconciliation_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "PaymentReconciliation_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "PaymentReconciliation_Token" ("code")');
  await client.query('CREATE INDEX ON "PaymentReconciliation_Token" ("system")');
  await client.query('CREATE INDEX ON "PaymentReconciliation_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Person_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Person_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Person_Token" ("code")');
  await client.query('CREATE INDEX ON "Person_Token" ("system")');
  await client.query('CREATE INDEX ON "Person_Token" ("value")');

  await client.query('ALTER TABLE "PlanDefinition" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "PlanDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "PlanDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "PlanDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "PlanDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "PlanDefinition_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Practitioner_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Practitioner_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Practitioner_Token" ("code")');
  await client.query('CREATE INDEX ON "Practitioner_Token" ("system")');
  await client.query('CREATE INDEX ON "Practitioner_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "PractitionerRole_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "PractitionerRole_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "PractitionerRole_Token" ("code")');
  await client.query('CREATE INDEX ON "PractitionerRole_Token" ("system")');
  await client.query('CREATE INDEX ON "PractitionerRole_Token" ("value")');

  await client.query('ALTER TABLE "Procedure" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Procedure_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Procedure_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Procedure_Token" ("code")');
  await client.query('CREATE INDEX ON "Procedure_Token" ("system")');
  await client.query('CREATE INDEX ON "Procedure_Token" ("value")');

  await client.query('ALTER TABLE "Provenance" ALTER COLUMN "recorded" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Provenance_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Provenance_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Provenance_Token" ("code")');
  await client.query('CREATE INDEX ON "Provenance_Token" ("system")');
  await client.query('CREATE INDEX ON "Provenance_Token" ("value")');

  await client.query('ALTER TABLE "Questionnaire" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Questionnaire_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Questionnaire_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Questionnaire_Token" ("code")');
  await client.query('CREATE INDEX ON "Questionnaire_Token" ("system")');
  await client.query('CREATE INDEX ON "Questionnaire_Token" ("value")');

  await client.query(
    'ALTER TABLE "QuestionnaireResponse" ALTER COLUMN "authored" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "QuestionnaireResponse_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "QuestionnaireResponse_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "QuestionnaireResponse_Token" ("code")');
  await client.query('CREATE INDEX ON "QuestionnaireResponse_Token" ("system")');
  await client.query('CREATE INDEX ON "QuestionnaireResponse_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "RelatedPerson_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "RelatedPerson_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "RelatedPerson_Token" ("code")');
  await client.query('CREATE INDEX ON "RelatedPerson_Token" ("system")');
  await client.query('CREATE INDEX ON "RelatedPerson_Token" ("value")');

  await client.query('ALTER TABLE "RequestGroup" ALTER COLUMN "authored" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "RequestGroup_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "RequestGroup_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "RequestGroup_Token" ("code")');
  await client.query('CREATE INDEX ON "RequestGroup_Token" ("system")');
  await client.query('CREATE INDEX ON "RequestGroup_Token" ("value")');

  await client.query('ALTER TABLE "ResearchDefinition" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "ResearchDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ResearchDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ResearchDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "ResearchDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "ResearchDefinition_Token" ("value")');

  await client.query(
    'ALTER TABLE "ResearchElementDefinition" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "ResearchElementDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ResearchElementDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ResearchElementDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "ResearchElementDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "ResearchElementDefinition_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "ResearchStudy_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ResearchStudy_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ResearchStudy_Token" ("code")');
  await client.query('CREATE INDEX ON "ResearchStudy_Token" ("system")');
  await client.query('CREATE INDEX ON "ResearchStudy_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "ResearchSubject_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ResearchSubject_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ResearchSubject_Token" ("code")');
  await client.query('CREATE INDEX ON "ResearchSubject_Token" ("system")');
  await client.query('CREATE INDEX ON "ResearchSubject_Token" ("value")');

  await client.query('ALTER TABLE "RiskAssessment" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "RiskAssessment_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "RiskAssessment_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "RiskAssessment_Token" ("code")');
  await client.query('CREATE INDEX ON "RiskAssessment_Token" ("system")');
  await client.query('CREATE INDEX ON "RiskAssessment_Token" ("value")');

  await client.query(
    'ALTER TABLE "RiskEvidenceSynthesis" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "RiskEvidenceSynthesis_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "RiskEvidenceSynthesis_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "RiskEvidenceSynthesis_Token" ("code")');
  await client.query('CREATE INDEX ON "RiskEvidenceSynthesis_Token" ("system")');
  await client.query('CREATE INDEX ON "RiskEvidenceSynthesis_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Schedule_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Schedule_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Schedule_Token" ("code")');
  await client.query('CREATE INDEX ON "Schedule_Token" ("system")');
  await client.query('CREATE INDEX ON "Schedule_Token" ("value")');

  await client.query('ALTER TABLE "SearchParameter" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "SearchParameter_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "SearchParameter_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "SearchParameter_Token" ("code")');
  await client.query('CREATE INDEX ON "SearchParameter_Token" ("system")');
  await client.query('CREATE INDEX ON "SearchParameter_Token" ("value")');

  await client.query('ALTER TABLE "ServiceRequest" ALTER COLUMN "authored" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query('ALTER TABLE "ServiceRequest" ALTER COLUMN "occurrence" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "ServiceRequest_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ServiceRequest_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ServiceRequest_Token" ("code")');
  await client.query('CREATE INDEX ON "ServiceRequest_Token" ("system")');
  await client.query('CREATE INDEX ON "ServiceRequest_Token" ("value")');

  await client.query('ALTER TABLE "Slot" ALTER COLUMN "start" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Slot_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Slot_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Slot_Token" ("code")');
  await client.query('CREATE INDEX ON "Slot_Token" ("system")');
  await client.query('CREATE INDEX ON "Slot_Token" ("value")');

  await client.query('ALTER TABLE "Specimen" ALTER COLUMN "collected" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Specimen_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Specimen_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Specimen_Token" ("code")');
  await client.query('CREATE INDEX ON "Specimen_Token" ("system")');
  await client.query('CREATE INDEX ON "Specimen_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "SpecimenDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "SpecimenDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "SpecimenDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "SpecimenDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "SpecimenDefinition_Token" ("value")');

  await client.query('ALTER TABLE "StructureDefinition" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "StructureDefinition_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "StructureDefinition_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "StructureDefinition_Token" ("code")');
  await client.query('CREATE INDEX ON "StructureDefinition_Token" ("system")');
  await client.query('CREATE INDEX ON "StructureDefinition_Token" ("value")');

  await client.query('ALTER TABLE "StructureMap" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "StructureMap_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "StructureMap_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "StructureMap_Token" ("code")');
  await client.query('CREATE INDEX ON "StructureMap_Token" ("system")');
  await client.query('CREATE INDEX ON "StructureMap_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Subscription_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Subscription_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Subscription_Token" ("code")');
  await client.query('CREATE INDEX ON "Subscription_Token" ("system")');
  await client.query('CREATE INDEX ON "Subscription_Token" ("value")');

  await client.query(
    'ALTER TABLE "Substance" ALTER COLUMN "expiry" TYPE TIMESTAMP WITH TIME ZONE[] USING \'{}\'::TIMESTAMP WITH TIME ZONE[]'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "Substance_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Substance_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Substance_Token" ("code")');
  await client.query('CREATE INDEX ON "Substance_Token" ("system")');
  await client.query('CREATE INDEX ON "Substance_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "SubstanceNucleicAcid_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "SubstanceNucleicAcid_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "SubstanceNucleicAcid_Token" ("code")');
  await client.query('CREATE INDEX ON "SubstanceNucleicAcid_Token" ("system")');
  await client.query('CREATE INDEX ON "SubstanceNucleicAcid_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "SubstancePolymer_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "SubstancePolymer_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "SubstancePolymer_Token" ("code")');
  await client.query('CREATE INDEX ON "SubstancePolymer_Token" ("system")');
  await client.query('CREATE INDEX ON "SubstancePolymer_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "SubstanceProtein_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "SubstanceProtein_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "SubstanceProtein_Token" ("code")');
  await client.query('CREATE INDEX ON "SubstanceProtein_Token" ("system")');
  await client.query('CREATE INDEX ON "SubstanceProtein_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "SubstanceReferenceInformation_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "SubstanceReferenceInformation_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "SubstanceReferenceInformation_Token" ("code")');
  await client.query('CREATE INDEX ON "SubstanceReferenceInformation_Token" ("system")');
  await client.query('CREATE INDEX ON "SubstanceReferenceInformation_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "SubstanceSourceMaterial_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "SubstanceSourceMaterial_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "SubstanceSourceMaterial_Token" ("code")');
  await client.query('CREATE INDEX ON "SubstanceSourceMaterial_Token" ("system")');
  await client.query('CREATE INDEX ON "SubstanceSourceMaterial_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "SubstanceSpecification_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "SubstanceSpecification_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "SubstanceSpecification_Token" ("code")');
  await client.query('CREATE INDEX ON "SubstanceSpecification_Token" ("system")');
  await client.query('CREATE INDEX ON "SubstanceSpecification_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "SupplyDelivery_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "SupplyDelivery_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "SupplyDelivery_Token" ("code")');
  await client.query('CREATE INDEX ON "SupplyDelivery_Token" ("system")');
  await client.query('CREATE INDEX ON "SupplyDelivery_Token" ("value")');

  await client.query('ALTER TABLE "SupplyRequest" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "SupplyRequest_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "SupplyRequest_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "SupplyRequest_Token" ("code")');
  await client.query('CREATE INDEX ON "SupplyRequest_Token" ("system")');
  await client.query('CREATE INDEX ON "SupplyRequest_Token" ("value")');

  await client.query('ALTER TABLE "Task" ALTER COLUMN "authoredOn" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query('ALTER TABLE "Task" ALTER COLUMN "modified" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "Task_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Task_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Task_Token" ("code")');
  await client.query('CREATE INDEX ON "Task_Token" ("system")');
  await client.query('CREATE INDEX ON "Task_Token" ("value")');

  await client.query(
    'ALTER TABLE "TerminologyCapabilities" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "TerminologyCapabilities_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "TerminologyCapabilities_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "TerminologyCapabilities_Token" ("code")');
  await client.query('CREATE INDEX ON "TerminologyCapabilities_Token" ("system")');
  await client.query('CREATE INDEX ON "TerminologyCapabilities_Token" ("value")');

  await client.query('ALTER TABLE "TestReport" ALTER COLUMN "issued" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "TestReport_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "TestReport_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "TestReport_Token" ("code")');
  await client.query('CREATE INDEX ON "TestReport_Token" ("system")');
  await client.query('CREATE INDEX ON "TestReport_Token" ("value")');

  await client.query('ALTER TABLE "TestScript" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "TestScript_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "TestScript_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "TestScript_Token" ("code")');
  await client.query('CREATE INDEX ON "TestScript_Token" ("system")');
  await client.query('CREATE INDEX ON "TestScript_Token" ("value")');

  await client.query('ALTER TABLE "ValueSet" ALTER COLUMN "date" TYPE TIMESTAMP WITH TIME ZONE USING NULL');
  await client.query(`CREATE TABLE IF NOT EXISTS "ValueSet_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ValueSet_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ValueSet_Token" ("code")');
  await client.query('CREATE INDEX ON "ValueSet_Token" ("system")');
  await client.query('CREATE INDEX ON "ValueSet_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "VerificationResult_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "VerificationResult_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "VerificationResult_Token" ("code")');
  await client.query('CREATE INDEX ON "VerificationResult_Token" ("system")');
  await client.query('CREATE INDEX ON "VerificationResult_Token" ("value")');

  await client.query(
    'ALTER TABLE "VisionPrescription" ALTER COLUMN "datewritten" TYPE TIMESTAMP WITH TIME ZONE USING NULL'
  );
  await client.query(`CREATE TABLE IF NOT EXISTS "VisionPrescription_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "VisionPrescription_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "VisionPrescription_Token" ("code")');
  await client.query('CREATE INDEX ON "VisionPrescription_Token" ("system")');
  await client.query('CREATE INDEX ON "VisionPrescription_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Project_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Project_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Project_Token" ("code")');
  await client.query('CREATE INDEX ON "Project_Token" ("system")');
  await client.query('CREATE INDEX ON "Project_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "ClientApplication_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ClientApplication_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ClientApplication_Token" ("code")');
  await client.query('CREATE INDEX ON "ClientApplication_Token" ("system")');
  await client.query('CREATE INDEX ON "ClientApplication_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "User_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "User_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "User_Token" ("code")');
  await client.query('CREATE INDEX ON "User_Token" ("system")');
  await client.query('CREATE INDEX ON "User_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "ProjectMembership_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "ProjectMembership_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "ProjectMembership_Token" ("code")');
  await client.query('CREATE INDEX ON "ProjectMembership_Token" ("system")');
  await client.query('CREATE INDEX ON "ProjectMembership_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Bot_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Bot_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Bot_Token" ("code")');
  await client.query('CREATE INDEX ON "Bot_Token" ("system")');
  await client.query('CREATE INDEX ON "Bot_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "Login_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "Login_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "Login_Token" ("code")');
  await client.query('CREATE INDEX ON "Login_Token" ("system")');
  await client.query('CREATE INDEX ON "Login_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "PasswordChangeRequest_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "PasswordChangeRequest_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "PasswordChangeRequest_Token" ("code")');
  await client.query('CREATE INDEX ON "PasswordChangeRequest_Token" ("system")');
  await client.query('CREATE INDEX ON "PasswordChangeRequest_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "JsonWebKey_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "JsonWebKey_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "JsonWebKey_Token" ("code")');
  await client.query('CREATE INDEX ON "JsonWebKey_Token" ("system")');
  await client.query('CREATE INDEX ON "JsonWebKey_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "AccessPolicy_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "AccessPolicy_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "AccessPolicy_Token" ("code")');
  await client.query('CREATE INDEX ON "AccessPolicy_Token" ("system")');
  await client.query('CREATE INDEX ON "AccessPolicy_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "UserConfiguration_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "UserConfiguration_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "UserConfiguration_Token" ("code")');
  await client.query('CREATE INDEX ON "UserConfiguration_Token" ("system")');
  await client.query('CREATE INDEX ON "UserConfiguration_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "BulkDataExport_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "BulkDataExport_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "BulkDataExport_Token" ("code")');
  await client.query('CREATE INDEX ON "BulkDataExport_Token" ("system")');
  await client.query('CREATE INDEX ON "BulkDataExport_Token" ("value")');

  await client.query(`CREATE TABLE IF NOT EXISTS "SmartAppLaunch_Token" (
    "resourceId" UUID NOT NULL,
    "index" INTEGER NOT NULL,
    "code" TEXT NOT NULL,
    "system" TEXT,
    "value" TEXT
  )`);

  await client.query('CREATE INDEX ON "SmartAppLaunch_Token" ("resourceId")');
  await client.query('CREATE INDEX ON "SmartAppLaunch_Token" ("code")');
  await client.query('CREATE INDEX ON "SmartAppLaunch_Token" ("system")');
  await client.query('CREATE INDEX ON "SmartAppLaunch_Token" ("value")');
}
