import { PoolClient } from 'pg';
import { prepareCustomMigrationJobData, runCustomMigration } from '../../workers/post-deploy-migration';
import * as fns from '../migrate-functions';
import { withLongRunningDatabaseClient } from '../migration-utils';
import { CustomMigrationAction, CustomPostDeployMigration } from './types';

export const migration: CustomPostDeployMigration = {
  type: 'custom',
  prepareJobData: (asyncJob) => prepareCustomMigrationJobData(asyncJob),
  run: async (repo, job, jobData) => {
    return runCustomMigration(repo, job, jobData, async () => {
      return withLongRunningDatabaseClient(async (client) => {
        const actions: CustomMigrationAction[] = [];
        await run(client, actions);
        return { actions };
      });
    });
  },
};

// prettier-ignore
async function run(client: PoolClient, actions: CustomMigrationAction[]): Promise<void> {
  await fns.idempotentCreateIndex(client, actions, 'Account___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Account___tokens_idx" ON "Account" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Account___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Account___tokensTrgm_idx" ON "Account" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ActivityDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ActivityDefinition___tokens_idx" ON "ActivityDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ActivityDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ActivityDefinition___tokensTrgm_idx" ON "ActivityDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'AdverseEvent___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "AdverseEvent___tokens_idx" ON "AdverseEvent" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'AdverseEvent___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "AdverseEvent___tokensTrgm_idx" ON "AdverseEvent" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'AllergyIntolerance___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "AllergyIntolerance___tokens_idx" ON "AllergyIntolerance" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'AllergyIntolerance___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "AllergyIntolerance___tokensTrgm_idx" ON "AllergyIntolerance" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Appointment___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Appointment___tokens_idx" ON "Appointment" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Appointment___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Appointment___tokensTrgm_idx" ON "Appointment" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'AppointmentResponse___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "AppointmentResponse___tokens_idx" ON "AppointmentResponse" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'AppointmentResponse___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "AppointmentResponse___tokensTrgm_idx" ON "AppointmentResponse" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'AuditEvent___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "AuditEvent___tokens_idx" ON "AuditEvent" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'AuditEvent___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "AuditEvent___tokensTrgm_idx" ON "AuditEvent" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Basic___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Basic___tokens_idx" ON "Basic" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Basic___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Basic___tokensTrgm_idx" ON "Basic" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Binary___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Binary___tokens_idx" ON "Binary" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Binary___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Binary___tokensTrgm_idx" ON "Binary" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'BiologicallyDerivedProduct___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "BiologicallyDerivedProduct___tokens_idx" ON "BiologicallyDerivedProduct" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'BiologicallyDerivedProduct___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "BiologicallyDerivedProduct___tokensTrgm_idx" ON "BiologicallyDerivedProduct" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'BodyStructure___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "BodyStructure___tokens_idx" ON "BodyStructure" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'BodyStructure___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "BodyStructure___tokensTrgm_idx" ON "BodyStructure" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Bundle___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Bundle___tokens_idx" ON "Bundle" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Bundle___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Bundle___tokensTrgm_idx" ON "Bundle" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'CapabilityStatement___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CapabilityStatement___tokens_idx" ON "CapabilityStatement" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'CapabilityStatement___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CapabilityStatement___tokensTrgm_idx" ON "CapabilityStatement" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'CarePlan___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CarePlan___tokens_idx" ON "CarePlan" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'CarePlan___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CarePlan___tokensTrgm_idx" ON "CarePlan" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'CareTeam___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CareTeam___tokens_idx" ON "CareTeam" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'CareTeam___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CareTeam___tokensTrgm_idx" ON "CareTeam" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'CatalogEntry___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CatalogEntry___tokens_idx" ON "CatalogEntry" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'CatalogEntry___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CatalogEntry___tokensTrgm_idx" ON "CatalogEntry" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ChargeItem___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ChargeItem___tokens_idx" ON "ChargeItem" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ChargeItem___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ChargeItem___tokensTrgm_idx" ON "ChargeItem" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ChargeItemDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ChargeItemDefinition___tokens_idx" ON "ChargeItemDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ChargeItemDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ChargeItemDefinition___tokensTrgm_idx" ON "ChargeItemDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Claim___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Claim___tokens_idx" ON "Claim" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Claim___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Claim___tokensTrgm_idx" ON "Claim" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ClaimResponse___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ClaimResponse___tokens_idx" ON "ClaimResponse" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ClaimResponse___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ClaimResponse___tokensTrgm_idx" ON "ClaimResponse" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ClinicalImpression___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ClinicalImpression___tokens_idx" ON "ClinicalImpression" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ClinicalImpression___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ClinicalImpression___tokensTrgm_idx" ON "ClinicalImpression" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'CodeSystem___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CodeSystem___tokens_idx" ON "CodeSystem" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'CodeSystem___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CodeSystem___tokensTrgm_idx" ON "CodeSystem" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Communication___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Communication___tokens_idx" ON "Communication" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Communication___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Communication___tokensTrgm_idx" ON "Communication" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'CommunicationRequest___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CommunicationRequest___tokens_idx" ON "CommunicationRequest" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'CommunicationRequest___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CommunicationRequest___tokensTrgm_idx" ON "CommunicationRequest" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'CompartmentDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CompartmentDefinition___tokens_idx" ON "CompartmentDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'CompartmentDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CompartmentDefinition___tokensTrgm_idx" ON "CompartmentDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Composition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Composition___tokens_idx" ON "Composition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Composition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Composition___tokensTrgm_idx" ON "Composition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ConceptMap___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ConceptMap___tokens_idx" ON "ConceptMap" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ConceptMap___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ConceptMap___tokensTrgm_idx" ON "ConceptMap" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Condition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Condition___tokens_idx" ON "Condition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Condition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Condition___tokensTrgm_idx" ON "Condition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Consent___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Consent___tokens_idx" ON "Consent" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Consent___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Consent___tokensTrgm_idx" ON "Consent" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Contract___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Contract___tokens_idx" ON "Contract" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Contract___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Contract___tokensTrgm_idx" ON "Contract" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Coverage___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Coverage___tokens_idx" ON "Coverage" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Coverage___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Coverage___tokensTrgm_idx" ON "Coverage" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'CoverageEligibilityRequest___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CoverageEligibilityRequest___tokens_idx" ON "CoverageEligibilityRequest" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'CoverageEligibilityRequest___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CoverageEligibilityRequest___tokensTrgm_idx" ON "CoverageEligibilityRequest" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'CoverageEligibilityResponse___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CoverageEligibilityResponse___tokens_idx" ON "CoverageEligibilityResponse" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'CoverageEligibilityResponse___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "CoverageEligibilityResponse___tokensTrgm_idx" ON "CoverageEligibilityResponse" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'DetectedIssue___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DetectedIssue___tokens_idx" ON "DetectedIssue" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'DetectedIssue___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DetectedIssue___tokensTrgm_idx" ON "DetectedIssue" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Device___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Device___tokens_idx" ON "Device" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Device___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Device___tokensTrgm_idx" ON "Device" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'DeviceDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DeviceDefinition___tokens_idx" ON "DeviceDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'DeviceDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DeviceDefinition___tokensTrgm_idx" ON "DeviceDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'DeviceMetric___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DeviceMetric___tokens_idx" ON "DeviceMetric" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'DeviceMetric___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DeviceMetric___tokensTrgm_idx" ON "DeviceMetric" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'DeviceRequest___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DeviceRequest___tokens_idx" ON "DeviceRequest" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'DeviceRequest___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DeviceRequest___tokensTrgm_idx" ON "DeviceRequest" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'DeviceUseStatement___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DeviceUseStatement___tokens_idx" ON "DeviceUseStatement" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'DeviceUseStatement___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DeviceUseStatement___tokensTrgm_idx" ON "DeviceUseStatement" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'DiagnosticReport___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DiagnosticReport___tokens_idx" ON "DiagnosticReport" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'DiagnosticReport___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DiagnosticReport___tokensTrgm_idx" ON "DiagnosticReport" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'DocumentManifest___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DocumentManifest___tokens_idx" ON "DocumentManifest" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'DocumentManifest___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DocumentManifest___tokensTrgm_idx" ON "DocumentManifest" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'DocumentReference___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DocumentReference___tokens_idx" ON "DocumentReference" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'DocumentReference___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DocumentReference___tokensTrgm_idx" ON "DocumentReference" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'EffectEvidenceSynthesis___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "EffectEvidenceSynthesis___tokens_idx" ON "EffectEvidenceSynthesis" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'EffectEvidenceSynthesis___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "EffectEvidenceSynthesis___tokensTrgm_idx" ON "EffectEvidenceSynthesis" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Encounter___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Encounter___tokens_idx" ON "Encounter" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Encounter___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Encounter___tokensTrgm_idx" ON "Encounter" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Endpoint___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Endpoint___tokens_idx" ON "Endpoint" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Endpoint___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Endpoint___tokensTrgm_idx" ON "Endpoint" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'EnrollmentRequest___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "EnrollmentRequest___tokens_idx" ON "EnrollmentRequest" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'EnrollmentRequest___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "EnrollmentRequest___tokensTrgm_idx" ON "EnrollmentRequest" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'EnrollmentResponse___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "EnrollmentResponse___tokens_idx" ON "EnrollmentResponse" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'EnrollmentResponse___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "EnrollmentResponse___tokensTrgm_idx" ON "EnrollmentResponse" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'EpisodeOfCare___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "EpisodeOfCare___tokens_idx" ON "EpisodeOfCare" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'EpisodeOfCare___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "EpisodeOfCare___tokensTrgm_idx" ON "EpisodeOfCare" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'EventDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "EventDefinition___tokens_idx" ON "EventDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'EventDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "EventDefinition___tokensTrgm_idx" ON "EventDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Evidence___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Evidence___tokens_idx" ON "Evidence" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Evidence___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Evidence___tokensTrgm_idx" ON "Evidence" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'EvidenceVariable___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "EvidenceVariable___tokens_idx" ON "EvidenceVariable" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'EvidenceVariable___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "EvidenceVariable___tokensTrgm_idx" ON "EvidenceVariable" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ExampleScenario___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ExampleScenario___tokens_idx" ON "ExampleScenario" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ExampleScenario___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ExampleScenario___tokensTrgm_idx" ON "ExampleScenario" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ExplanationOfBenefit___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ExplanationOfBenefit___tokens_idx" ON "ExplanationOfBenefit" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ExplanationOfBenefit___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ExplanationOfBenefit___tokensTrgm_idx" ON "ExplanationOfBenefit" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'FamilyMemberHistory___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "FamilyMemberHistory___tokens_idx" ON "FamilyMemberHistory" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'FamilyMemberHistory___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "FamilyMemberHistory___tokensTrgm_idx" ON "FamilyMemberHistory" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Flag___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Flag___tokens_idx" ON "Flag" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Flag___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Flag___tokensTrgm_idx" ON "Flag" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Goal___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Goal___tokens_idx" ON "Goal" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Goal___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Goal___tokensTrgm_idx" ON "Goal" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'GraphDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "GraphDefinition___tokens_idx" ON "GraphDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'GraphDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "GraphDefinition___tokensTrgm_idx" ON "GraphDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Group___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Group___tokens_idx" ON "Group" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Group___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Group___tokensTrgm_idx" ON "Group" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'GuidanceResponse___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "GuidanceResponse___tokens_idx" ON "GuidanceResponse" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'GuidanceResponse___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "GuidanceResponse___tokensTrgm_idx" ON "GuidanceResponse" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'HealthcareService___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "HealthcareService___tokens_idx" ON "HealthcareService" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'HealthcareService___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "HealthcareService___tokensTrgm_idx" ON "HealthcareService" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ImagingStudy___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ImagingStudy___tokens_idx" ON "ImagingStudy" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ImagingStudy___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ImagingStudy___tokensTrgm_idx" ON "ImagingStudy" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Immunization___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Immunization___tokens_idx" ON "Immunization" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Immunization___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Immunization___tokensTrgm_idx" ON "Immunization" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ImmunizationEvaluation___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ImmunizationEvaluation___tokens_idx" ON "ImmunizationEvaluation" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ImmunizationEvaluation___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ImmunizationEvaluation___tokensTrgm_idx" ON "ImmunizationEvaluation" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ImmunizationRecommendation___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ImmunizationRecommendation___tokens_idx" ON "ImmunizationRecommendation" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ImmunizationRecommendation___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ImmunizationRecommendation___tokensTrgm_idx" ON "ImmunizationRecommendation" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ImplementationGuide___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ImplementationGuide___tokens_idx" ON "ImplementationGuide" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ImplementationGuide___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ImplementationGuide___tokensTrgm_idx" ON "ImplementationGuide" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'InsurancePlan___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "InsurancePlan___tokens_idx" ON "InsurancePlan" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'InsurancePlan___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "InsurancePlan___tokensTrgm_idx" ON "InsurancePlan" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Invoice___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Invoice___tokens_idx" ON "Invoice" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Invoice___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Invoice___tokensTrgm_idx" ON "Invoice" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Library___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Library___tokens_idx" ON "Library" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Library___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Library___tokensTrgm_idx" ON "Library" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Linkage___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Linkage___tokens_idx" ON "Linkage" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Linkage___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Linkage___tokensTrgm_idx" ON "Linkage" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'List___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "List___tokens_idx" ON "List" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'List___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "List___tokensTrgm_idx" ON "List" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Location___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Location___tokens_idx" ON "Location" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Location___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Location___tokensTrgm_idx" ON "Location" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Measure___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Measure___tokens_idx" ON "Measure" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Measure___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Measure___tokensTrgm_idx" ON "Measure" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MeasureReport___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MeasureReport___tokens_idx" ON "MeasureReport" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MeasureReport___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MeasureReport___tokensTrgm_idx" ON "MeasureReport" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Media___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Media___tokens_idx" ON "Media" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Media___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Media___tokensTrgm_idx" ON "Media" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Medication___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Medication___tokens_idx" ON "Medication" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Medication___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Medication___tokensTrgm_idx" ON "Medication" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MedicationAdministration___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicationAdministration___tokens_idx" ON "MedicationAdministration" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MedicationAdministration___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicationAdministration___tokensTrgm_idx" ON "MedicationAdministration" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MedicationDispense___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicationDispense___tokens_idx" ON "MedicationDispense" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MedicationDispense___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicationDispense___tokensTrgm_idx" ON "MedicationDispense" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MedicationKnowledge___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicationKnowledge___tokens_idx" ON "MedicationKnowledge" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MedicationKnowledge___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicationKnowledge___tokensTrgm_idx" ON "MedicationKnowledge" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MedicationRequest___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicationRequest___tokens_idx" ON "MedicationRequest" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MedicationRequest___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicationRequest___tokensTrgm_idx" ON "MedicationRequest" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MedicationStatement___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicationStatement___tokens_idx" ON "MedicationStatement" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MedicationStatement___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicationStatement___tokensTrgm_idx" ON "MedicationStatement" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MedicinalProduct___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicinalProduct___tokens_idx" ON "MedicinalProduct" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MedicinalProduct___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicinalProduct___tokensTrgm_idx" ON "MedicinalProduct" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MPA___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MPA___tokens_idx" ON "MedicinalProductAuthorization" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MPA___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MPA___tokensTrgm_idx" ON "MedicinalProductAuthorization" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MPC___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MPC___tokens_idx" ON "MedicinalProductContraindication" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MPC___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MPC___tokensTrgm_idx" ON "MedicinalProductContraindication" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MedicinalProductIndication___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicinalProductIndication___tokens_idx" ON "MedicinalProductIndication" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MedicinalProductIndication___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicinalProductIndication___tokensTrgm_idx" ON "MedicinalProductIndication" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MedicinalProductIngredient___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicinalProductIngredient___tokens_idx" ON "MedicinalProductIngredient" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MedicinalProductIngredient___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicinalProductIngredient___tokensTrgm_idx" ON "MedicinalProductIngredient" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MedicinalProductInteraction___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicinalProductInteraction___tokens_idx" ON "MedicinalProductInteraction" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MedicinalProductInteraction___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicinalProductInteraction___tokensTrgm_idx" ON "MedicinalProductInteraction" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MedicinalProductManufactured___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicinalProductManufactured___tokens_idx" ON "MedicinalProductManufactured" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MedicinalProductManufactured___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicinalProductManufactured___tokensTrgm_idx" ON "MedicinalProductManufactured" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MedicinalProductPackaged___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicinalProductPackaged___tokens_idx" ON "MedicinalProductPackaged" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MedicinalProductPackaged___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MedicinalProductPackaged___tokensTrgm_idx" ON "MedicinalProductPackaged" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MPP___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MPP___tokens_idx" ON "MedicinalProductPharmaceutical" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MPP___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MPP___tokensTrgm_idx" ON "MedicinalProductPharmaceutical" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MPUE___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MPUE___tokens_idx" ON "MedicinalProductUndesirableEffect" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MPUE___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MPUE___tokensTrgm_idx" ON "MedicinalProductUndesirableEffect" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MessageDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MessageDefinition___tokens_idx" ON "MessageDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MessageDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MessageDefinition___tokensTrgm_idx" ON "MessageDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MessageHeader___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MessageHeader___tokens_idx" ON "MessageHeader" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MessageHeader___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MessageHeader___tokensTrgm_idx" ON "MessageHeader" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'MolecularSequence___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MolecularSequence___tokens_idx" ON "MolecularSequence" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'MolecularSequence___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "MolecularSequence___tokensTrgm_idx" ON "MolecularSequence" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'NamingSystem___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "NamingSystem___tokens_idx" ON "NamingSystem" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'NamingSystem___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "NamingSystem___tokensTrgm_idx" ON "NamingSystem" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'NutritionOrder___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "NutritionOrder___tokens_idx" ON "NutritionOrder" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'NutritionOrder___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "NutritionOrder___tokensTrgm_idx" ON "NutritionOrder" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Observation___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Observation___tokens_idx" ON "Observation" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Observation___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Observation___tokensTrgm_idx" ON "Observation" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ObservationDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ObservationDefinition___tokens_idx" ON "ObservationDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ObservationDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ObservationDefinition___tokensTrgm_idx" ON "ObservationDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'OperationDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "OperationDefinition___tokens_idx" ON "OperationDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'OperationDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "OperationDefinition___tokensTrgm_idx" ON "OperationDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'OperationOutcome___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "OperationOutcome___tokens_idx" ON "OperationOutcome" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'OperationOutcome___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "OperationOutcome___tokensTrgm_idx" ON "OperationOutcome" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Organization___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Organization___tokens_idx" ON "Organization" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Organization___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Organization___tokensTrgm_idx" ON "Organization" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'OrganizationAffiliation___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "OrganizationAffiliation___tokens_idx" ON "OrganizationAffiliation" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'OrganizationAffiliation___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "OrganizationAffiliation___tokensTrgm_idx" ON "OrganizationAffiliation" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Parameters___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Parameters___tokens_idx" ON "Parameters" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Parameters___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Parameters___tokensTrgm_idx" ON "Parameters" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Patient___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Patient___tokens_idx" ON "Patient" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Patient___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Patient___tokensTrgm_idx" ON "Patient" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'PaymentNotice___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "PaymentNotice___tokens_idx" ON "PaymentNotice" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'PaymentNotice___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "PaymentNotice___tokensTrgm_idx" ON "PaymentNotice" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'PaymentReconciliation___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "PaymentReconciliation___tokens_idx" ON "PaymentReconciliation" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'PaymentReconciliation___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "PaymentReconciliation___tokensTrgm_idx" ON "PaymentReconciliation" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Person___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Person___tokens_idx" ON "Person" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Person___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Person___tokensTrgm_idx" ON "Person" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'PlanDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "PlanDefinition___tokens_idx" ON "PlanDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'PlanDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "PlanDefinition___tokensTrgm_idx" ON "PlanDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Practitioner___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Practitioner___tokens_idx" ON "Practitioner" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Practitioner___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Practitioner___tokensTrgm_idx" ON "Practitioner" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'PractitionerRole___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "PractitionerRole___tokens_idx" ON "PractitionerRole" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'PractitionerRole___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "PractitionerRole___tokensTrgm_idx" ON "PractitionerRole" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Procedure___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Procedure___tokens_idx" ON "Procedure" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Procedure___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Procedure___tokensTrgm_idx" ON "Procedure" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Provenance___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Provenance___tokens_idx" ON "Provenance" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Provenance___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Provenance___tokensTrgm_idx" ON "Provenance" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Questionnaire___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Questionnaire___tokens_idx" ON "Questionnaire" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Questionnaire___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Questionnaire___tokensTrgm_idx" ON "Questionnaire" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'QuestionnaireResponse___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "QuestionnaireResponse___tokens_idx" ON "QuestionnaireResponse" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'QuestionnaireResponse___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "QuestionnaireResponse___tokensTrgm_idx" ON "QuestionnaireResponse" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'RelatedPerson___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "RelatedPerson___tokens_idx" ON "RelatedPerson" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'RelatedPerson___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "RelatedPerson___tokensTrgm_idx" ON "RelatedPerson" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'RequestGroup___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "RequestGroup___tokens_idx" ON "RequestGroup" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'RequestGroup___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "RequestGroup___tokensTrgm_idx" ON "RequestGroup" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ResearchDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ResearchDefinition___tokens_idx" ON "ResearchDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ResearchDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ResearchDefinition___tokensTrgm_idx" ON "ResearchDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ResearchElementDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ResearchElementDefinition___tokens_idx" ON "ResearchElementDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ResearchElementDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ResearchElementDefinition___tokensTrgm_idx" ON "ResearchElementDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ResearchStudy___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ResearchStudy___tokens_idx" ON "ResearchStudy" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ResearchStudy___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ResearchStudy___tokensTrgm_idx" ON "ResearchStudy" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ResearchSubject___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ResearchSubject___tokens_idx" ON "ResearchSubject" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ResearchSubject___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ResearchSubject___tokensTrgm_idx" ON "ResearchSubject" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'RiskAssessment___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "RiskAssessment___tokens_idx" ON "RiskAssessment" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'RiskAssessment___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "RiskAssessment___tokensTrgm_idx" ON "RiskAssessment" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'RiskEvidenceSynthesis___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "RiskEvidenceSynthesis___tokens_idx" ON "RiskEvidenceSynthesis" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'RiskEvidenceSynthesis___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "RiskEvidenceSynthesis___tokensTrgm_idx" ON "RiskEvidenceSynthesis" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Schedule___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Schedule___tokens_idx" ON "Schedule" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Schedule___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Schedule___tokensTrgm_idx" ON "Schedule" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'SearchParameter___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SearchParameter___tokens_idx" ON "SearchParameter" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'SearchParameter___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SearchParameter___tokensTrgm_idx" ON "SearchParameter" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ServiceRequest___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ServiceRequest___tokens_idx" ON "ServiceRequest" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ServiceRequest___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ServiceRequest___tokensTrgm_idx" ON "ServiceRequest" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Slot___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Slot___tokens_idx" ON "Slot" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Slot___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Slot___tokensTrgm_idx" ON "Slot" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Specimen___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Specimen___tokens_idx" ON "Specimen" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Specimen___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Specimen___tokensTrgm_idx" ON "Specimen" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'SpecimenDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SpecimenDefinition___tokens_idx" ON "SpecimenDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'SpecimenDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SpecimenDefinition___tokensTrgm_idx" ON "SpecimenDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'StructureDefinition___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "StructureDefinition___tokens_idx" ON "StructureDefinition" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'StructureDefinition___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "StructureDefinition___tokensTrgm_idx" ON "StructureDefinition" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'StructureMap___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "StructureMap___tokens_idx" ON "StructureMap" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'StructureMap___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "StructureMap___tokensTrgm_idx" ON "StructureMap" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Subscription___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Subscription___tokens_idx" ON "Subscription" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Subscription___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Subscription___tokensTrgm_idx" ON "Subscription" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'SubscriptionStatus___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubscriptionStatus___tokens_idx" ON "SubscriptionStatus" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'SubscriptionStatus___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubscriptionStatus___tokensTrgm_idx" ON "SubscriptionStatus" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Substance___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Substance___tokens_idx" ON "Substance" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Substance___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Substance___tokensTrgm_idx" ON "Substance" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'SubstanceNucleicAcid___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubstanceNucleicAcid___tokens_idx" ON "SubstanceNucleicAcid" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'SubstanceNucleicAcid___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubstanceNucleicAcid___tokensTrgm_idx" ON "SubstanceNucleicAcid" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'SubstancePolymer___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubstancePolymer___tokens_idx" ON "SubstancePolymer" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'SubstancePolymer___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubstancePolymer___tokensTrgm_idx" ON "SubstancePolymer" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'SubstanceProtein___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubstanceProtein___tokens_idx" ON "SubstanceProtein" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'SubstanceProtein___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubstanceProtein___tokensTrgm_idx" ON "SubstanceProtein" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'SubstanceReferenceInformation___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubstanceReferenceInformation___tokens_idx" ON "SubstanceReferenceInformation" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'SubstanceReferenceInformation___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubstanceReferenceInformation___tokensTrgm_idx" ON "SubstanceReferenceInformation" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'SubstanceSourceMaterial___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubstanceSourceMaterial___tokens_idx" ON "SubstanceSourceMaterial" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'SubstanceSourceMaterial___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubstanceSourceMaterial___tokensTrgm_idx" ON "SubstanceSourceMaterial" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'SubstanceSpecification___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubstanceSpecification___tokens_idx" ON "SubstanceSpecification" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'SubstanceSpecification___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SubstanceSpecification___tokensTrgm_idx" ON "SubstanceSpecification" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'SupplyDelivery___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SupplyDelivery___tokens_idx" ON "SupplyDelivery" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'SupplyDelivery___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SupplyDelivery___tokensTrgm_idx" ON "SupplyDelivery" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'SupplyRequest___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SupplyRequest___tokens_idx" ON "SupplyRequest" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'SupplyRequest___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SupplyRequest___tokensTrgm_idx" ON "SupplyRequest" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Task___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Task___tokens_idx" ON "Task" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Task___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Task___tokensTrgm_idx" ON "Task" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'TerminologyCapabilities___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "TerminologyCapabilities___tokens_idx" ON "TerminologyCapabilities" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'TerminologyCapabilities___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "TerminologyCapabilities___tokensTrgm_idx" ON "TerminologyCapabilities" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'TestReport___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "TestReport___tokens_idx" ON "TestReport" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'TestReport___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "TestReport___tokensTrgm_idx" ON "TestReport" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'TestScript___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "TestScript___tokens_idx" ON "TestScript" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'TestScript___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "TestScript___tokensTrgm_idx" ON "TestScript" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ValueSet___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ValueSet___tokens_idx" ON "ValueSet" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ValueSet___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ValueSet___tokensTrgm_idx" ON "ValueSet" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'VerificationResult___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "VerificationResult___tokens_idx" ON "VerificationResult" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'VerificationResult___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "VerificationResult___tokensTrgm_idx" ON "VerificationResult" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'VisionPrescription___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "VisionPrescription___tokens_idx" ON "VisionPrescription" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'VisionPrescription___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "VisionPrescription___tokensTrgm_idx" ON "VisionPrescription" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Project___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Project___tokens_idx" ON "Project" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Project___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Project___tokensTrgm_idx" ON "Project" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ClientApplication___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ClientApplication___tokens_idx" ON "ClientApplication" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ClientApplication___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ClientApplication___tokensTrgm_idx" ON "ClientApplication" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'User___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "User___tokens_idx" ON "User" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'User___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "User___tokensTrgm_idx" ON "User" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'ProjectMembership___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ProjectMembership___tokens_idx" ON "ProjectMembership" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'ProjectMembership___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "ProjectMembership___tokensTrgm_idx" ON "ProjectMembership" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Bot___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Bot___tokens_idx" ON "Bot" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Bot___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Bot___tokensTrgm_idx" ON "Bot" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Login___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Login___tokens_idx" ON "Login" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Login___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Login___tokensTrgm_idx" ON "Login" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'PasswordChangeRequest___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "PasswordChangeRequest___tokens_idx" ON "PasswordChangeRequest" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'PasswordChangeRequest___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "PasswordChangeRequest___tokensTrgm_idx" ON "PasswordChangeRequest" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'UserSecurityRequest___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "UserSecurityRequest___tokens_idx" ON "UserSecurityRequest" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'UserSecurityRequest___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "UserSecurityRequest___tokensTrgm_idx" ON "UserSecurityRequest" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'JsonWebKey___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "JsonWebKey___tokens_idx" ON "JsonWebKey" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'JsonWebKey___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "JsonWebKey___tokensTrgm_idx" ON "JsonWebKey" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'AccessPolicy___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "AccessPolicy___tokens_idx" ON "AccessPolicy" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'AccessPolicy___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "AccessPolicy___tokensTrgm_idx" ON "AccessPolicy" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'UserConfiguration___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "UserConfiguration___tokens_idx" ON "UserConfiguration" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'UserConfiguration___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "UserConfiguration___tokensTrgm_idx" ON "UserConfiguration" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'BulkDataExport___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "BulkDataExport___tokens_idx" ON "BulkDataExport" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'BulkDataExport___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "BulkDataExport___tokensTrgm_idx" ON "BulkDataExport" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'SmartAppLaunch___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SmartAppLaunch___tokens_idx" ON "SmartAppLaunch" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'SmartAppLaunch___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "SmartAppLaunch___tokensTrgm_idx" ON "SmartAppLaunch" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'DomainConfiguration___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DomainConfiguration___tokens_idx" ON "DomainConfiguration" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'DomainConfiguration___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "DomainConfiguration___tokensTrgm_idx" ON "DomainConfiguration" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'AsyncJob___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "AsyncJob___tokens_idx" ON "AsyncJob" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'AsyncJob___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "AsyncJob___tokensTrgm_idx" ON "AsyncJob" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
  await fns.idempotentCreateIndex(client, actions, 'Agent___tokens_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Agent___tokens_idx" ON "Agent" USING gin ("__tokens")');
  await fns.idempotentCreateIndex(client, actions, 'Agent___tokensTrgm_idx', 'CREATE INDEX CONCURRENTLY IF NOT EXISTS "Agent___tokensTrgm_idx" ON "Agent" USING gin (token_array_to_text("__tokensText") gin_trgm_ops)');
}
