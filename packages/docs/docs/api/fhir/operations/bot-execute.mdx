---
sidebar_position: 2
---

import ExampleCode from '!!raw-loader!@site/../examples/src/api/fhir/operations/bot-execute.ts';
import MedplumCodeBlock from '@site/src/components/MedplumCodeBlock';

# Bot Execute

To directly invoke a Medplum Bot you can use the custom FHIR operation called `$execute`.

If you're not familiar with Medplum Bots, you may want to review [Bot Basics](/docs/bots/bot-basics) documentation first.

## Invoke a bot by ID

Invoke a bot by ID when you know the Bot's ID in advance.

```
POST [base]/Bot/[id]/$execute
```

For example:

```bash
curl 'https://api.medplum.com/fhir/R4/Bot/MY_BOT_ID/$execute' \
  -X POST \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer MY_ACCESS_TOKEN" \
  -d '{"foo":"bar"}'
```

The [MedplumClient](/docs/sdk/classes/MedplumClient) TypeScript class provides a `executeBot` convenience method:

<MedplumCodeBlock language="ts" selectBlocks="execute-by-id" showLineNumbers>
  {ExampleCode}
</MedplumCodeBlock>

## Invoke a bot by identifier

Sometimes you may not know the Medplum Bot ID in advance. In that case, you can invoke a Bot by `Identifier`.

This is particularly useful when the same conceptual bot exists in multiple Medplum projects. Each bot will have a different ID, but they can all have the same identifier.

```
POST [base]/Bot/$execute?identifier=[system]|[code]
```

For example:

```bash
curl 'https://api.medplum.com/fhir/R4/Bot/$execute?identifier=https://example.com/bots|1234' \
  -X POST \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer MY_ACCESS_TOKEN" \
  -d '{"foo":"bar"}'
```

The [MedplumClient](/docs/sdk/classes/MedplumClient) `executeBot` convenience method supports both `id: string` and `identifier: Identifier`:

<MedplumCodeBlock language="ts" selectBlocks="execute-by-identifier" showLineNumbers>
  {ExampleCode}
</MedplumCodeBlock>
